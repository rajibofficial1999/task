import{r,j as x,o as A,t as X}from"./app-IXPwkiJ8.js";import{u as h,S as j}from"./theme-provider-C7uny5Vn.js";import{P as G}from"./input-msGEvURb.js";function b(e,t,{checkForDefaultPrevented:o=!0}={}){return function(c){if(e==null||e(c),o===!1||!c.defaultPrevented)return t==null?void 0:t(c)}}function Te(e,t){const o=r.createContext(t),n=i=>{const{children:l,...f}=i,a=r.useMemo(()=>f,Object.values(f));return x.jsx(o.Provider,{value:a,children:l})};n.displayName=e+"Provider";function c(i){const l=r.useContext(o);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,c]}function k(e,t=[]){let o=[];function n(i,l){const f=r.createContext(l),a=o.length;o=[...o,l];const s=v=>{var p;const{scope:C,children:d,...u}=v,m=((p=C==null?void 0:C[e])==null?void 0:p[a])||f,S=r.useMemo(()=>u,Object.values(u));return x.jsx(m.Provider,{value:S,children:d})};s.displayName=i+"Provider";function R(v,C){var m;const d=((m=C==null?void 0:C[e])==null?void 0:m[a])||f,u=r.useContext(d);if(u)return u;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${i}\``)}return[s,R]}const c=()=>{const i=o.map(l=>r.createContext(l));return function(f){const a=(f==null?void 0:f[e])||i;return r.useMemo(()=>({[`__scope${e}`]:{...f,[e]:a}}),[f,a])}};return c.scopeName=e,[n,Z(c,...t)]}function Z(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const n=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(i){const l=n.reduce((f,{useScope:a,scopeName:s})=>{const v=a(i)[`__scope${s}`];return{...f,...v}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return o.scopeName=t.scopeName,o}function H(e){const t=e+"CollectionProvider",[o,n]=k(t),[c,i]=o(t,{collectionRef:{current:null},itemMap:new Map}),l=d=>{const{scope:u,children:m}=d,S=A.useRef(null),p=A.useRef(new Map).current;return x.jsx(c,{scope:u,itemMap:p,collectionRef:S,children:m})};l.displayName=t;const f=e+"CollectionSlot",a=A.forwardRef((d,u)=>{const{scope:m,children:S}=d,p=i(f,m),I=h(u,p.collectionRef);return x.jsx(j,{ref:I,children:S})});a.displayName=f;const s=e+"CollectionItemSlot",R="data-radix-collection-item",v=A.forwardRef((d,u)=>{const{scope:m,children:S,...p}=d,I=A.useRef(null),E=h(u,I),T=i(s,m);return A.useEffect(()=>(T.itemMap.set(I,{ref:I,...p}),()=>void T.itemMap.delete(I))),x.jsx(j,{[R]:"",ref:E,children:S})});v.displayName=s;function C(d){const u=i(e+"CollectionConsumer",d);return A.useCallback(()=>{const S=u.collectionRef.current;if(!S)return[];const p=Array.from(S.querySelectorAll(`[${R}]`));return Array.from(u.itemMap.values()).sort((T,w)=>p.indexOf(T.ref.current)-p.indexOf(w.ref.current))},[u.collectionRef,u.itemMap])}return[{Provider:l,Slot:a,ItemSlot:v},C,n]}var y=globalThis!=null&&globalThis.document?r.useLayoutEffect:()=>{},ee=X.useId||(()=>{}),te=0;function ne(e){const[t,o]=r.useState(ee());return y(()=>{e||o(n=>n??String(te++))},[e]),e||(t?`radix-${t}`:"")}function D(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...o)=>{var n;return(n=t.current)==null?void 0:n.call(t,...o)},[])}function oe({prop:e,defaultProp:t,onChange:o=()=>{}}){const[n,c]=re({defaultProp:t,onChange:o}),i=e!==void 0,l=i?e:n,f=D(o),a=r.useCallback(s=>{if(i){const v=typeof s=="function"?s(e):s;v!==e&&f(v)}else c(s)},[i,e,c,f]);return[l,a]}function re({defaultProp:e,onChange:t}){const o=r.useState(e),[n]=o,c=r.useRef(n),i=D(t);return r.useEffect(()=>{c.current!==n&&(i(n),c.current=n)},[n,c,i]),o}var se=r.createContext(void 0);function ce(e){const t=r.useContext(se);return e||t||"ltr"}var O="rovingFocusGroup.onEntryFocus",ue={bubbles:!1,cancelable:!0},P="RovingFocusGroup",[_,K,ie]=H(P),[ae,be]=k(P,[ie]),[le,fe]=ae(P),$=r.forwardRef((e,t)=>x.jsx(_.Provider,{scope:e.__scopeRovingFocusGroup,children:x.jsx(_.Slot,{scope:e.__scopeRovingFocusGroup,children:x.jsx(de,{...e,ref:t})})}));$.displayName=P;var de=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,orientation:n,loop:c=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:a,onEntryFocus:s,preventScrollOnEntryFocus:R=!1,...v}=e,C=r.useRef(null),d=h(t,C),u=ce(i),[m=null,S]=oe({prop:l,defaultProp:f,onChange:a}),[p,I]=r.useState(!1),E=D(s),T=K(o),w=r.useRef(!1),[Y,U]=r.useState(0);return r.useEffect(()=>{const g=C.current;if(g)return g.addEventListener(O,E),()=>g.removeEventListener(O,E)},[E]),x.jsx(le,{scope:o,orientation:n,dir:u,loop:c,currentTabStopId:m,onItemFocus:r.useCallback(g=>S(g),[S]),onItemShiftTab:r.useCallback(()=>I(!0),[]),onFocusableItemAdd:r.useCallback(()=>U(g=>g+1),[]),onFocusableItemRemove:r.useCallback(()=>U(g=>g-1),[]),children:x.jsx(G.div,{tabIndex:p||Y===0?-1:0,"data-orientation":n,...v,ref:d,style:{outline:"none",...e.style},onMouseDown:b(e.onMouseDown,()=>{w.current=!0}),onFocus:b(e.onFocus,g=>{const q=!w.current;if(g.target===g.currentTarget&&q&&!p){const L=new CustomEvent(O,ue);if(g.currentTarget.dispatchEvent(L),!L.defaultPrevented){const F=T().filter(N=>N.focusable),z=F.find(N=>N.active),J=F.find(N=>N.id===m),Q=[z,J,...F].filter(Boolean).map(N=>N.ref.current);V(Q,R)}}w.current=!1}),onBlur:b(e.onBlur,()=>I(!1))})})}),B="RovingFocusGroupItem",W=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,focusable:n=!0,active:c=!1,tabStopId:i,...l}=e,f=ne(),a=i||f,s=fe(B,o),R=s.currentTabStopId===a,v=K(o),{onFocusableItemAdd:C,onFocusableItemRemove:d}=s;return r.useEffect(()=>{if(n)return C(),()=>d()},[n,C,d]),x.jsx(_.ItemSlot,{scope:o,id:a,focusable:n,active:c,children:x.jsx(G.span,{tabIndex:R?0:-1,"data-orientation":s.orientation,...l,ref:t,onMouseDown:b(e.onMouseDown,u=>{n?s.onItemFocus(a):u.preventDefault()}),onFocus:b(e.onFocus,()=>s.onItemFocus(a)),onKeyDown:b(e.onKeyDown,u=>{if(u.key==="Tab"&&u.shiftKey){s.onItemShiftTab();return}if(u.target!==u.currentTarget)return;const m=ve(u,s.orientation,s.dir);if(m!==void 0){if(u.metaKey||u.ctrlKey||u.altKey||u.shiftKey)return;u.preventDefault();let p=v().filter(I=>I.focusable).map(I=>I.ref.current);if(m==="last")p.reverse();else if(m==="prev"||m==="next"){m==="prev"&&p.reverse();const I=p.indexOf(u.currentTarget);p=s.loop?Ce(p,I+1):p.slice(I+1)}setTimeout(()=>V(p))}})})})});W.displayName=B;var me={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ve(e,t,o){const n=pe(e.key,o);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return me[n]}function V(e,t=!1){const o=document.activeElement;for(const n of e)if(n===o||(n.focus({preventScroll:t}),document.activeElement!==o))return}function Ce(e,t){return e.map((o,n)=>e[(t+n)%e.length])}var we=$,Me=W;function Ie(e,t){return r.useReducer((o,n)=>t[o][n]??o,e)}var Re=e=>{const{present:t,children:o}=e,n=Se(t),c=typeof o=="function"?o({present:n.isPresent}):r.Children.only(o),i=h(n.ref,ge(c));return typeof o=="function"||n.isPresent?r.cloneElement(c,{ref:i}):null};Re.displayName="Presence";function Se(e){const[t,o]=r.useState(),n=r.useRef({}),c=r.useRef(e),i=r.useRef("none"),l=e?"mounted":"unmounted",[f,a]=Ie(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const s=M(n.current);i.current=f==="mounted"?s:"none"},[f]),y(()=>{const s=n.current,R=c.current;if(R!==e){const C=i.current,d=M(s);e?a("MOUNT"):d==="none"||(s==null?void 0:s.display)==="none"?a("UNMOUNT"):a(R&&C!==d?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,a]),y(()=>{if(t){let s;const R=t.ownerDocument.defaultView??window,v=d=>{const m=M(n.current).includes(d.animationName);if(d.target===t&&m&&(a("ANIMATION_END"),!c.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",s=R.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},C=d=>{d.target===t&&(i.current=M(n.current))};return t.addEventListener("animationstart",C),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{R.clearTimeout(s),t.removeEventListener("animationstart",C),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else a("ANIMATION_END")},[t,a]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:r.useCallback(s=>{s&&(n.current=getComputedStyle(s)),o(s)},[])}}function M(e){return(e==null?void 0:e.animationName)||"none"}function ge(e){var n,c;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}export{Me as I,Re as P,we as R,be as a,oe as b,k as c,ne as d,b as e,H as f,y as g,D as h,Te as i,ce as u};
