import{V as C,b as y,r as v,j as e,c as N}from"./app-IXPwkiJ8.js";import{L as o,a as _}from"./label-C5Vd--Qu.js";import{C as b,a as V,b as w,d as F,e as L}from"./card-C1i-cauX.js";import{I}from"./input-msGEvURb.js";import{S as d,a as i,b as n,c as h,d as m,e as x}from"./select-sT7SdnJM.js";import{A}from"./AuthLayout-EHro3Owz.js";import"./theme-provider-C7uny5Vn.js";import"./index-BTyky-SD.js";const D=()=>{const{shops:t}=C().props,{data:r,setData:l,post:p,processing:j,errors:s}=y({name:"",shop_id:"",category_id:""}),[u,g]=v.useState([]),f=async a=>{a.preventDefault(),p(route("products.store"))},S=async a=>{l("shop_id",a);try{const{data:c}=await N.get("http://localhost:8000/api/categories/"+a);g(c)}catch(c){console.warn(c)}};return e.jsx("form",{onSubmit:f,children:e.jsxs(b,{className:"w-[450px] border-0",children:[e.jsx(V,{children:e.jsx(w,{children:"Create product"})}),e.jsx(F,{children:e.jsxs("div",{className:"grid w-full items-center gap-4",children:[e.jsxs("div",{className:"flex flex-col space-y-1.5",children:[e.jsx(o,{htmlFor:"name",children:"Product name"}),e.jsx(I,{id:"name",placeholder:"Name",value:r.name,onChange:a=>l("name",a.target.value)}),s.name&&e.jsx("div",{className:"text-sm text-red-500",children:s.name})]}),e.jsxs("div",{className:"flex flex-col space-y-1.5",children:[e.jsx(o,{htmlFor:"shop",children:"Shops"}),e.jsxs(d,{defaultValue:r.shop_id,onValueChange:S,children:[e.jsx(i,{children:e.jsx(n,{placeholder:"Select a shop"})}),e.jsx(h,{children:e.jsx(m,{children:t==null?void 0:t.map(a=>e.jsx(x,{value:a.id.toString(),children:a.name},a.id))})})]}),s.shop_id&&e.jsx("div",{className:"text-sm text-red-500",children:s.shop_id})]}),e.jsxs("div",{className:"flex flex-col space-y-1.5",children:[e.jsx(o,{htmlFor:"shop",children:"Shops"}),e.jsxs(d,{defaultValue:r.category_id,onValueChange:a=>l("category_id",a),children:[e.jsx(i,{children:e.jsx(n,{placeholder:"Select a category"})}),e.jsx(h,{children:e.jsx(m,{children:u.map(a=>e.jsx(x,{value:a.id.toString(),children:a.name},a.id))})})]}),s.category_id&&e.jsx("div",{className:"text-sm text-red-500",children:s.category_id})]})]})}),e.jsx(L,{className:"flex flex-col items-end gap-4",children:e.jsx(_,{type:"submit",loading:j,children:"Submit"})})]})})};D.layout=t=>e.jsx(A,{children:t});export{D as default};
